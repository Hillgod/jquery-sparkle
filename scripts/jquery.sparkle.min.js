/*
 GNU Affero General Public License - {@link http://www.gnu.org/licenses/agpl.html}
 GNU Affero General Public License - {@link http://www.gnu.org/licenses/agpl.html}
 GNU General Public License - {@link http://wordpress.org/about/gpl/}
 GNU Affero General Public License - {@link http://www.gnu.org/licenses/agpl.html}
 GNU Affero General Public License - {@link http://www.gnu.org/licenses/agpl.html}
 GNU Affero General Public License - {@link http://www.gnu.org/licenses/agpl.html}
 GNU Affero General Public License - {@link http://www.gnu.org/licenses/agpl.html}
 GNU Affero General Public License - {@link http://www.gnu.org/licenses/agpl.html}
 GNU Affero General Public License - {@link http://www.gnu.org/licenses/agpl.html}
 GNU Affero General Public License - {@link http://www.gnu.org/licenses/agpl.html}
 GNU Affero General Public License - {@link http://www.gnu.org/licenses/agpl.html}
*/
Array.prototype.remove=function(a,b){var c=this.slice((b||a)+1||this.length);this.length=a<0?this.length+a:a;return this.push.apply(this,c)};Array.prototype.get=function(a,b){if(a==="first")a=0;else if(a==="last")a=this.length-1;else if(a==="prev")a=this.index-1;else if(a==="next")a=this.index+1;else if(!a&&a!==0)a=this.index;b&&this.setIndex(a);return this.exists(a)?this[a]:undefined};Array.prototype.each=function(a){for(var b=0;b<this.length;++b)if(a(b,this[b],this)===false)break;return this};
Array.prototype.validIndex=function(a){return a>=0&&a<this.length};Array.prototype.setIndex=function(a){this.index=this.validIndex(a)?a:null;return this};Array.prototype.current=function(a){return this.get(a,true)};Array.prototype.isEmpty=function(){return this.length===0};Array.prototype.isSingle=function(){return this.length===1};Array.prototype.isNotEmpty=function(){return this.length!==0};Array.prototype.isNotEmpty=function(){return this.length>1};
Array.prototype.isLast=function(a){a=typeof a==="undefined"?this.index:a;return!this.isEmpty()&&a===this.length-1};Array.prototype.isFirst=function(a){a=typeof a==="undefined"?this.index:a;return!this.isEmpty()&&a===0};Array.prototype.clear=function(){this.length=0};Array.prototype.next=function(a){return this.get(this.index+1,a)};Array.prototype.prev=function(a){return this.get(this.index-1,a)};Array.prototype.reset=function(){this.index=null;return this};
Array.prototype.set=function(a,b){if(a<this.length&&a>=0)this[a]=b;else throw Error("Array.prototype.set: [index] above this.length");return this};Array.prototype.loop=function(){if(!this.index&&this.index!==0)return this.current(0);return this.next()};Array.prototype.add=function(){this.push.apply(this,arguments);return this};
Array.prototype.insert=function(a,b){if(typeof a!=="number")a=this.length;a=a<=this.length?a:this.length;var c=this.slice(a);this.length=a;this.push(b);this.push.apply(this,c);return this};Array.prototype.exists=Array.prototype.exists||function(a){return typeof this[a]!=="undefined"};Array.prototype.has=Array.prototype.has||function(a){for(var b=false,c=0,d=this.length;c<d;++c)if(a==this[c]){b=true;break}return b};
String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.strip=String.prototype.strip||function(a){a=String(a);a=this.replace(eval("/^"+a+"+|"+a+"+$/g"),"");return String(a)};String.prototype.stripLeft=String.prototype.stripLeft||function(a){a=String(a);a=this.replace(eval("/^"+a+"+/g"),"");return String(a)};String.prototype.stripRight=String.prototype.stripRight||function(a){a=String(a);a=this.replace(eval("/"+a+"+$/g"),"");return String(a)};
String.prototype.toInt=String.prototype.toInt||function(){return parseInt(this,10)};String.prototype.wrap=String.prototype.wrap||function(a,b){return a+this+b};String.prototype.wrapSelection=String.prototype.wrapSelection||function(a,b,c,d){if(typeof c==="undefined"||c===null)c=this.length;if(typeof d==="undefined"||d===null)d=this.length;return this.substring(0,c)+a+this.substring(c,d)+b+this.substring(d)};
String.prototype.toSlug=String.prototype.toSlug||function(){return this.toLowerCase().replace(/[\s_]/g,"-").replace(/[^-a-z0-9]/g,"").replace(/--+/g,"-")};
String.prototype.queryStringToJSON=String.prototype.queryStringToJSON||function(){var a=String(this);a=a.substring(a.indexOf("?")+1);a=a.replace(/\+/g,"%20");if(a.substring(0,1)==="{"&&a.substring(a.length-1)==="}")return eval(decodeURIComponent(a));a=a.split(/\&|\&amp\;/);for(var b={},c=0,d=a.length;c<d;++c){var e=a[c]||null;if(e!==null){e=e.split("=");if(e!==null){var f=e[0]||null;if(f!==null)if(typeof e[1]!=="undefined"){var g=e[1];f=decodeURIComponent(f);g=decodeURIComponent(g);try{g=eval(g)}catch(h){}e=
f.split(".");if(e.length===1)b[f]=g;else{g="";for(ii in e){f=e[ii];g+="."+f;eval("json"+g+" = json"+g+" || {}")}eval("json"+g+" = value")}}}}}return b};Date.prototype.setDatetimestr=Date.prototype.setDatetimestr||function(a){a=a.split(/[\-\s\:]/g);var b=a[3]||0,c=a[4]||0,d=a[5]||0;this.setUTCFullYear(a[0],a[1]-1,a[2]);this.setUTCHours(b);this.setUTCMinutes(c);this.setUTCSeconds(d);return this};
Date.prototype.setDatestr=Date.prototype.setDatestr||function(a){a=a.split(/[\-\s\:]/g);this.setUTCFullYear(a[0]||1978,(a[1]||0)-1,a[2]||1);return this};Date.prototype.setTimestr=Date.prototype.setTimestr||function(a){a=a.split(/[\-\s\:]/g);var b=a[1]||0,c=a[2]||0;this.setUTCHours(a[0]||0);this.setUTCMinutes(b);this.setUTCSeconds(c);return this};Date.prototype.getDatetimestr=Date.prototype.getDatetimestr||function(){return this.getDatestr()+" "+this.getTimestr()};
Date.prototype.getDatestr=Date.prototype.getDatestr||function(){var a=this,b=a.getUTCFullYear(),c=(this.getUTCMonth()+1).padLeft(0,2);a=this.getUTCDate().padLeft(0,2);return b+"-"+c+"-"+a};Date.prototype.getTimestr=Date.prototype.getTimestr||function(){var a=this.getUTCHours().padLeft(0,2),b=this.getUTCMinutes().padLeft(0,2),c=this.getUTCSeconds().padLeft(0,2);return a+":"+b+":"+c};
Date.prototype.getDatetime=String.prototype.getDatetime||function(){return this.getUTCFullYear()+"-"+(this.getUTCMonth()+1).zeroise(2)+"-"+this.getUTCDate().zeroise(2)+"T"+this.getUTCHours().zeroise(2)+":"+this.getUTCMinutes().zeroise(2)+":"+this.getUTCSeconds().zeroise(2)+"+00:00"};Number.prototype.zeroise=String.prototype.zeroise=String.prototype.zeroise||function(a){var b=this.toString();if(this<0)b=b.substr(1,b.length);for(;b.length<a;)b="0"+b;if(this<0)b="-"+b;return b};
Number.prototype.padLeft=String.prototype.padLeft=String.prototype.padLeft||function(a,b){var c=String(this),d=RegExp(".{"+b+"}$"),e="";if(!a&&a!==0)a=" ";do e+=a;while(e.length<b);return d.exec(e+c)[0]};Number.prototype.padRight=String.prototype.padRight=String.prototype.padRight||function(a,b){var c=String(this),d=RegExp("^.{"+b+"}"),e="";if(!a&&a!==0)a=" ";do e+=a;while(e.length<b);return d.exec(c+e)[0]};
Number.prototype.roundTo=String.prototype.roundTo=String.prototype.roundTo||function(){var a=String(parseInt(this,10));return a=parseInt(a.replace(/[1,2]$/,0).replace(/[3,4]$/,5),10)};
(function(a){if(a.fn.ajaxCalendar)console.warn("$.fn.ajaxCalendar has already been defined...");else a.fn.ajaxCalendar=a.fn.ajaxCalendar||function(b){var c=a(this);if(c.length>1){c.each(function(){a(this).ajaxCalendar(b)});return this}b=b||{};b.ajaxList=b.ajaxList||"entries";b.ajaxUrl=b.ajaxUrl||"/ajax-calendar";b.ajaxData=b.ajaxData||{};b.dayEntryClass=b.dayEntryClass||"has-entry";b.domEvents=b.domEvents||{};b.datepickerOptions=b.datepickerOptions||{};b.useCache=typeof b.useCache==="undefined"?true:
b.useCache;b.disableClick=typeof b.disableClick==="undefined"?false:b.disableClick;var d={},e=function(h,i,k){var l=d[i+"-"+k]||[];h=a(h).find("tbody td");var j=h.find("a");if(b.disableClick){h.unbind("click").removeAttr("onclick");j.removeAttr("href").css("cursor","default")}a.each(l,function(m,n){var p=n.start.match(/-([0-9]+)-/)[1].stripLeft("0"),q=n.finish.match(/-([0-9]+)-/)[1].stripLeft("0"),r=n.start.match(/([0-9]+)\s/)[1].stripLeft("0"),s=n.finish.match(/([0-9]+)\s/)[1].stripLeft("0");r=p==
k?j.filter(":contains("+r+"):first"):j.filter(":first");s=q==k?j.filter(":contains("+s+"):first"):j.filter(":last");p=p==k?j.index(r):0;q=q==k?j.index(s):j.length-1;var v=[];v=p==q?r:p==q-1?r.add(s):r.add(j.filter(":lt("+q+")").filter(":gt("+p+")")).add(s);v.addClass(b.dayEntryClass).each(function(D,y){var t=a(y);t.text().trim();var o=t.data("dayEntriesIds");if(typeof o==="undefined")o=m;else{o=String(o).split(/,/g);o.push(m);o=o.join(",")}t.data("dayEntriesIds",o);a.each(b.domEvents,function(w,z){t.unbind(w).bind(w,
function(A){var u=a(this),B=u.text().trim();u=String(u.data("dayEntriesIds")).split(/,/g);var x=[];a.each(u,function(E,C){x.push(l[C])});z.apply(this,[A,B,x,l]);return true})})})});return true},f=function(h,i,k){var l=b.ajaxUrl,j=a.extend({},{year:h,month:i},b.ajaxData),m=k.dpDiv;b.useCache&&typeof d[h+"-"+i]!=="undefined"?setTimeout(function(){e(m,h,i)},50):a.ajax({url:l,method:"post",dataType:"json",data:j,success:function(n){d[h+"-"+i]=n[b.ajaxList]||[]||[];e(m,h,i)}});return true},g=a.extend({},
b.datepickerOptions,{onChangeMonthYear:function(h,i,k){return f(h,i,k)},beforeShow:function(h,i){setTimeout(function(){return f(i.drawYear,i.drawMonth+1,i)},1E3)}});c.datepicker(g);return c}})(jQuery);
(function(a){a.appendStylesheet=a.appendStylesheet||function(b,c){var d="stylesheet-"+b.replace(/[^a-zA-Z0-9]/g,""),e=a("#"+d);if(typeof c==="undefined")c=false;if(e.length===1)if(c)e.remove();else return a;e=document.getElementsByTagName(a.browser.safari?"head":"body")[0];var f=document.createElement("link");f.type="text/css";f.rel="stylesheet";f.media="screen";f.href=b;f.id=d;e.appendChild(f);return a};a.appendScript=a.appendScript||function(b,c){var d="script-"+b.replace(/[^a-zA-Z0-9]/g,""),e=
a("#"+d);if(typeof c==="undefined")c=false;if(e.length===1)if(c)e.remove();else return a;e=document.getElementsByTagName(a.browser.safari?"head":"body")[0];var f=document.createElement("script");f.type="text/javascript";f.src=b;f.id=d;e.appendChild(f);return a}})(jQuery);
(function(a){a.fn.parentsAndSelf=a.fn.parentsAndSelf||function(b){return a(this).parents(b).andSelf().filter(b)};a.fn.findAndSelf=a.fn.findAndSelf||function(b){return a(this).find(b).andSelf().filter(b)};a.fn.firstInput=a.fn.firstInput||function(){return a(this).findAndSelf(":input").filter(":first")};a.fn.choose=a.fn.choose||function(b){var c=a(this);if(typeof b==="undefined")b=c.val();else if(c.val()!==b)return this;switch(true){case this.is("option"):c.parents("select:first").choose(b);break;case c.is(":checkbox"):c.attr("checked",
true);break;case c.is(":radio"):c.attr("checked",true);break;case c.is("select"):c.val(b);break;default:break}return this};a.fn.unchoose=a.fn.unchoose||function(){var b=a(this);switch(true){case b.is("option"):b.parents(":select:first").unchoose();break;case b.is(":checkbox"):b.attr("checked",false);break;case b.is(":radio"):b.attr("checked",false);break;case b.is("select"):b.val(b.find("option:first").val());break;default:break}return this};a.fn.wouldSubmit=a.fn.wouldSubmit||function(){var b=a(this).findAndSelf(":input"),
c=true;if(!b.length||!(b.attr("name")||0)||b.is(":radio,:checkbox")&&!b.is(":selected,:checked"))c=false;return c};a.fn.values=a.fn.values||function(){var b={};a(this).findAndSelf(":input").each(function(){var c=a(this),d=c.attr("name")||null,e=c.val();if(!c.wouldSubmit())return true;if(d.indexOf("[]")!==-1){if(typeof b[d]==="undefined")b[d]=[];b[d].push(e)}else b[d]=e});return b};a.fn.submitForm=a.fn.submitForm||function(){var b=a(this);b.parentsAndSelf("form:first").trigger("submit");return b};
a.fn.inDOM=function(){var b=a(this).parent().parent();return b.size()&&(b.height()||b.width())};a.fn.valWrap=function(b,c){var d=a(this);return d.val(d.val().wrap(b,c))};a.fn.valWrapSelection=function(b,c,d,e){var f=a(this),g=f.get(0);b=b||"";c=c||"";if(d||e)f.val(f.val().wrapSelection(b,c,d,e));else{d=g.selectionStart;e=g.selectionEnd;if(document.selection){g.focus();d=document.selection.createRange();d.text=b+d.text+c}else{var h=g.scrollTop;f.val(f.val().wrapSelection(b,c,d,e));g.focus();g.selectionStart=
d+b.length;g.selectionEnd=e+b.length;g.scrollTop=h}}return f};a.fn.giveFocus=function(){a(this).findAndSelf(":input:visible:first").focus();return this};a.fn.highlight=function(b){return a(this).effect("highlight",{},b||3E3)}})(jQuery);
(function(a){a.fn.binder=a.fn.binder||function(b,c,d){var e=a(this);if(d)e.bind(b,c,d);else{d=c;e.bind(b,d)}return e};a.fn.once=a.fn.once||function(b,c,d){var e=a(this);if(d){e.unbind(b,d);e.bind(b,c,d)}else{d=c;e.unbind(b,d);e.bind(b,d)}return e};a.fn.enter=a.fn.enter||function(b,c){return a(this).binder("enter",b,c)};a.event.special.enter=a.event.special.cancel||{setup:function(){a(this).bind("keypress",a.event.special.enter.handler)},teardown:function(){a(this).unbind("keypress",a.event.special.enter.handler)},
handler:function(b){a(this);if(b.keyCode===13){b.type="cancel";a.event.handle.apply(this,arguments);return true}}};a.fn.cancel=a.fn.cancel||function(b,c){return a(this).binder("cancel",b,c)};a.event.special.cancel=a.event.special.cancel||{setup:function(){a(this).bind("keypress",a.event.special.cancel.handler)},teardown:function(){a(this).unbind("keypress",a.event.special.cancel.handler)},handler:function(b){a(this);if(b.keyCode===27){b.type="cancel";a.event.handle.apply(this,arguments);return true}}};
a.fn.singleclick=a.fn.singleclick||function(b,c){return a(this).binder("singleclick",b,c)};a.event.special.singleclick=a.event.special.singleclick||{setup:function(){a(this).bind("click",a.event.special.singleclick.handler)},teardown:function(){a(this).unbind("click",a.event.special.singleclick.handler)},handler:function(b){var c=a(this);c.data("clicking",c.data("clicking")||"no");if(c.data("clicking")!=="yes"){c.data("clicking","yes");setTimeout(function(){c.data("clicking","no")},500);b.type="singleclick";
a.event.handle.apply(this,arguments);return true}}}})(jQuery);
(function(a){String.prototype.passwordstrength=String.prototype.passwordstrength||function(b,c){var d=this.toString(),e=0;b=b||"";c=c||"";if(d.length<4)return"short";if(c.length&&d.toLowerCase()==c.toLowerCase())return"username";if(b.length&&d!=b)return"mismatch";if(d.match(/[0-9]/))e+=10;if(d.match(/[a-z]/))e+=26;if(d.match(/[A-Z]/))e+=26;if(d.match(/[^a-zA-Z0-9]/))e+=31;d=Math.log(Math.pow(e,d.length))/Math.LN2;if(d<40)return"low";else if(d<56)return"medium";return"high"};if(a.fn.passwordstrength)console.warn("$.fn.passwordstrength has already been defined...");
else a.fn.passwordstrength=function(b){var c=a.fn.passwordstrength;c.config=c.config||{content:'<div class="sparkle-passwordstrength-result"></div><div class="sparkle-passwordstrength-description"></div>',contentSelectors:{result:".sparkle-passwordstrength-result",description:".sparkle-passwordstrength-description"},strengthCss:{"short":"invalid",mismatch:"invalid",username:"invalid",low:"low",medium:"medium",high:"high",empty:""},il8n:{description:'Hint: The password should be have a strength of at least medium. To make it stronger, use upper and lower case letters, numbers and symbols like ! " ? $ % ^ &amp; ).',
empty:"Strength indicator",username:"Password should not match username",mismatch:"Confirm password does not match","short":"Password is too short",low:"Weak",medium:"Medium",high:"Strongest"}};var d=a.extend({},c.config);a.extend(true,d,b);b=a(this);var e=b.html(d.content).hide(),f=e.find(d.contentSelectors.result);c=e.find(d.contentSelectors.description).html(d.il8n.description);d.il8n.description||c.remove();var g=[d.strengthCss["short"],d.strengthCss.mismatch,d.strengthCss.username,d.strengthCss.low,
d.strengthCss.medium,d.strengthCss.high,d.strengthCss.empty].join(" "),h=a(d.password),i=a(d.confirm||null),k=a(d.username||null);c=function(){var l=h.val(),j=i.val(),m=k.val();j=l?l.passwordstrength(j,m):"empty";l=d.strengthCss[j];j=d.il8n[j];f.removeClass(g).addClass(l).html(j)};h.keyup(function(){var l=a(this);i.val("");l.val()!==""&&!e.data("shown")&&e.animate({height:"show",opacity:"show"},"slow").data("shown",true)});h.add(i).add(k).keyup(c);c();return b}})(jQuery);
(function(a){if(a.BalClass)console.warn("$.BalClass has already been defined...");else{a.BalClass=function(b,c){this.construct(b,c)};a.extend(a.BalClass.prototype,{config:{},construct:function(b,c){this.configure(b);a.extend(this,c||{});if(typeof this.built==="function")return this.built();return true},configure:function(b){this.config=this.config||{};this.config=a.extend({},this.config,b||{});return this},clone:function(b){var c=function(d){this.construct(d)};a.extend(true,c.prototype,this.prototype,
b||{});c.clone=this.prototype.clone;c.create=this.prototype.create;return c},create:function(b,c){return new this(b,c)},addConfig:function(b,c){if(typeof c==="undefined"){if(typeof b==="object")for(var d in b)this.applyConfig(d,b[d]);return false}else typeof c==="object"&&this.applyConfig(b,c);return this},applyConfig:function(b,c){this.config[b]=this.config[b]||{};a.extend(true,this.config[b],c||{});return this},setConfig:function(b,c){this.config[b]=c||{};return this},getConfig:function(b){if(typeof b!==
"string")return this.config;return this.getConfigWith(b)},getConfigWith:function(b,c){if(typeof b!=="string"){if(typeof c==="undefined")c=b;b="default"}if(typeof c!=="object")c={};var d={};a.extend(true,d,this.config[b]||{},c||{});return d},getConfigWithDefault:function(b,c){return this.getConfigWith("default",this.getConfigWith(b,c))},setDefaults:function(b){return this.applyConfig("default",b)}});a.BalClass.clone=a.BalClass.prototype.clone;a.BalClass.create=a.BalClass.prototype.create}})(jQuery);
(function(a){if(a.Help)console.warn("$.datetimepicker has already been defined...");else a.datetimepicker=a.BalClass.create({"default":{datepickerOptions:{},timepickerOptions:{}},"12hr":{timepickerOptions:{timeConvention:12}},"24hr":{timepickerOptions:{timeConvention:24}}},{fn:function(b,c){var d=a.datetimepicker.getConfigWithDefault(b,c);return a(this).each(function(){var e=a(this);e.hide();if(e.hasClass("sparkle-datetime-has"))return e;e.addClass("sparkle-datetime").addClass("sparkle-datetime-has");
var f=a('<input type="text" class="sparkle-date"/>'),g=a('<span class="sparkle-datetime-sep"> @ </span>'),h=a('<input type="text" class="sparkle-time"/>'),i=e.val(),k=new Date,l="",j="";if(i){k.setDatetimestr(i);l=k.getDatestr();j=k.getTimestr()}h.insertAfter(e);g.insertAfter(e);f.insertAfter(e);f.val(l);h.val(j);f.add(h).change(function(){var m=f.val()+" "+h.val();e.val(m).trigger("change")});f.datepicker(d.datepickerOptions);h.timepicker(d.timepickerOptions);return e})},built:function(){var b=this;
a.fn.datetimepicker=function(c,d){return b.fn.apply(this,[c,d])};return true}})})(jQuery);
(function(a){a(document.body).addClass("js");if(a.Sparkle)console.warn("$.Sparkle has already been defined...");else{a.SparkleClass=a.BalClass.clone({addExtension:function(b,c){var d=a.Sparkle;if(b==="object")for(var e in b)d.addExtension(e,b[e]);else{e={config:{},extension:false};if(typeof c==="object"&&typeof c.config!=="undefined"){e.config=c.config;e.extension=c.extension}else e.extension=c;d.addConfig(b,e)}return true},cycleExtensions:function(){var b=a(this),c=a.Sparkle,d=c.getExtensions();
for(var e in d)c.triggerExtension.apply(b,[e]);return b},getExtensions:function(){a(this);return a.Sparkle.getConfig()},getExtension:function(b){a(this);return a.Sparkle.getConfigWithDefault(b)},getExtensionConfig:function(b){a(this);return a.Sparkle.getExtension(b).config||{}},applyExtensionConfig:function(b,c){a(this);a.Sparkle.applyConfig(b,{config:c});return this},triggerExtension:function(b){var c=a(this),d=a.Sparkle;b=d.getExtension(b);if(typeof b.extension!=="undefined")return b.extension.apply(c,
[d,b.config,b]);return false},fn:function(b){var c=a(this),d=a.Sparkle;b?d.triggerExtension.apply(c,[b]):d.cycleExtensions.apply(c,[]);return c},built:function(){var b=this;a.fn.sparkle=function(c){return b.fn.apply(this,[c])};a(function(){a(document.body).sparkle()});return true}});a.Sparkle=a.SparkleClass.create({date:{config:{selector:".sparkle-date",datepickerOptions:{},demo:'<input type="text" class="sparkle-date" />'},extension:function(b,c){var d=a(this).findAndSelf(c.selector);return typeof d.datepicker===
"undefined"?d:d.datepicker(c.datepickerOptions)}},time:{config:{selector:".sparkle-time",timepickerOptions:{},demo:'<input type="text" class="sparkle-time" />'},extension:function(b,c){var d=a(this).findAndSelf(c.selector);return typeof d.timepicker==="undefined"?d:d.timepicker(c.timepickerOptions)}},datetime:{config:{selector:".sparkle-datetime",datepickerOptions:{},timepickerOptions:{},demo:'<input type="text" class="sparkle-datetime" />'},extension:function(b,c){var d=a(this).findAndSelf(c.selector);
return typeof d.datetimepicker==="undefined"?d:d.datetimepicker({datepickerOptions:b.getExtensionConfig("date").datepickerOptions,timepickerOptions:b.getExtensionConfig("time").timepickerOptions})}},"hide-if-empty":{config:{selector:".sparkle-hide-if-empty:empty",demo:'<div class="sparkle-hide-if-empty" style="border:1px solid black"></div><div class="sparkle-hide-if-empty" style="border:1px solid black">Hello World</div>'},extension:function(b,c){return a(this).findAndSelf(c.selector).hide()}},hide:{config:{selector:".sparkle-hide",
demo:'<div class="sparkle-hide">Something to Hide when Sparkle has Loaded</div>'},extension:function(b,c){return a(this).findAndSelf(c.selector).removeClass(c.selector.replace(".","")).hide()}},show:{config:{selector:".sparkle-show",demo:'<div class="sparkle-show" style="display:none;">Something to Show when Sparkle has Loaded</div>'},extension:function(b,c){return a(this).findAndSelf(c.selector).removeClass(c.selector.replace(".","")).show()}},subtle:{config:{selector:".sparkle-subtle",css:{},inSpeed:200,
inCss:{opacity:1},outSpeed:400,outCss:{opacity:0.5},demo:'<div class="sparkle-subtle">This is some subtle text. (mouseover)</div>'},extension:function(b,c){return a(this).findAndSelf(c.selector).css(c.css).hover(function(){a(this).stop(true,false).animate(c.inCss,c.inSpeed)},function(){a(this).stop(true,false).animate(c.outCss,c.outSpeed)})}},panelshower:{config:{selectorSwitch:".sparkle-panelshower-switch",selectorPanel:".sparkle-panelshower-panel",inSpeed:200,outSpeed:200,demo:""},extension:function(b,
c){var d=a(this),e=d.findAndSelf(c.selectorSwitch);d=d.findAndSelf(c.selectorPanel);e.once("click",{clickEvent:function(){var f=a(this),g=f.siblings(c.selectorPanel).filter(":first"),h=f.val();f.is(":checked,:selected")&&!(!h||h===0||h==="0"||h==="false"||h===false||h==="no"||h==="off")?g.fadeIn(c.inSpeed):g.fadeOut(c.outSpeed)}}.clickEvent);d.hide();return true}},autogrow:{config:{selector:"textarea.autogrow,textarea.autosize",demo:'<textarea class="autogrow">This textarea will autogrow with your input. - Only if jQuery Autogrow has been loaded.</textarea>'},
extension:function(b,c){var d=a(this).findAndSelf(c.selector);if(d.length){if(typeof a.fn.autogrow==="undefined"){console.warn("Autogrow has failed to load.");return false}d.autogrow()}return true}},gsfnwidget:{config:{selector:".gsfnwidget",demo:'<a class="gsfnwidget" href="#">This link will show a GetSatisfaction Widget onclick. - Only if GetSatisfaction has been loaded.</a>'},extension:function(b,c){var d=a(this),e={clickEvent:function(f){if(typeof GSFN_feedback_widget==="undefined"){console.warn("GSFN has failed to load.");
return true}GSFN_feedback_widget.show();f.preventDefault();return false}};a(function(){d.findAndSelf(c.selector).once("click",e.clickEvent)});return true}},hint:{config:{selector:".form-input-tip,.sparkle-hint,.sparkle-hint-has,:text[placeholder]",hasClass:"sparkle-hint-has",hintedClass:"sparkle-hint-hinted",demoText:"Simulates HTML5's <code>placeholder</code> attribute for non HTML5 browsers. Placeholder can be the <code>title</code> or <code>placeholder</code> attribute. Placeholder will not be sent with the form (unlike most other solutions). The <code>sparkle-hint</code> class is optional if you are using the <code>placeholder</code> attribute.",
demo:'<input type="text" class="sparkle-hint" placeholder="This is some hint text." title="This is a title." /><br/>\n<input type="text" class="sparkle-hint" title="This is some hint text." />'},extension:function(b,c){var d=a(this),e=d.findAndSelf(c.selector).addClass(c.hasClass),f={focusEvent:function(){var g=a(this),h=g.attr("placeholder")||g.attr("title"),i=g.val();h===i&&g.val("").removeClass(c.hintedClass);return true},blurEvent:function(){var g=a(this),h=g.attr("placeholder")||g.attr("title"),
i=g.val();if(h===i||!i)g.val("").addClass(c.hintedClass).val(h);return true},submitEvent:function(){e.trigger("focus")}};if(typeof Modernizr!=="undefined"&&Modernizr.input.placeholder)e.each(function(){var g=a(this),h=g.attr("title");h&&!g.attr("placeholder")&&g.attr("placeholder",h)});else{e.each(function(){a(this).once("focus",f.focusEvent).once("blur",f.blurEvent).trigger("blur")});d.find("form").once("submit",f.submitEvent)}return d}},debug:{config:{selector:".sparkle-debug",hasClass:"sparkle-debug-has",
hintedClass:"sparkle-debug-hinted",showVar:"sparkle-debug-show",demo:""},extension:function(b,c){var d=a(this);b=a.Sparkle;var e={clickEvent:function(){var f=a(this),g=f.parent(),h=!g.data(c.showVar);g.data(c.showVar,h);f.siblings(".value").toggle(h)},dblclickEvent:function(){var f=a(this).parent(),g=f.data(c.showVar);f.data(c.showVar,g);f.find(".value").toggle(g)}};d.findAndSelf(c.selector).addClass(c.hasClass).find(".value:has(.var)").hide().siblings(".name,.type").addClass("link").once("singleclick",
e.clickEvent).once("dblclick",e.dblclickEvent);return d}},submit:{config:{selector:".sparkle-submit",demoText:"Adding the <code>sparkle-submit</code> class to an element within a <code>form</code> will submit the form when that element is clicked."},extension:function(b,c){var d=a(this);b=a.Sparkle;var e={clickEvent:function(){a(this).submitForm();return true}};d.findAndSelf(c.selector).once("singleclick",e.clickEvent);return d}},submitswap:{config:{selector:".sparkle-submitswap",demoText:"Adding the <code>sparkle-submitswap</code> class to a submit button, will swap it's value with it's title when it has been clicked. Making it possible for a submit value which isn't the submit button's text."},
extension:function(b,c){var d=a(this);b=a.Sparkle;var e={clickEvent:function(){var g=a(this);g.val(g.data("sparkle-submitswap-value"));return true}},f=d.findAndSelf(c.selector);f.once("singleclick",e.clickEvent);f.each(function(){var g=a(this);g.data("sparkle-submitswap-value",g.val());g.val(g.attr("title"));g.removeAttr("title")});return d}},"highlight-values":{config:{selector:".sparkle-highlight-values",innerSelector:"td,.column",empty:["",false,null,"false","null",0,"-"],emptyClass:"sparkle-highlight-values-empty",
notemptyClass:"sparkle-highlight-values-notempty",demoText:'Adding the <code>sparkle-highlight-values</code> class to a table will highlight all <code>td</code> elements with non empty values. By adding <code>sparkle-highlight-values-notempty</code> or <code>sparkle-highlight-values-empty</code> to the corresponding <code>td</code> element - which can by styled by yourself. Benefit over css\'s <code>:empty</code> as 0, false, null and - are counted as empty values (not just "").'},extension:function(b,
c){var d=a(this);b=a.Sparkle;d.findAndSelf(c.selector).findAndSelf(c.innerSelector).each(function(){var e=a(this),f=e.text().trim();c.empty.has(f)?e.addClass(c.emptyClass):e.addClass(c.notemptyClass)});return d}},demo:{config:{selector:".sparkle-demo",hasClass:"sparkle-debug-has",demoText:"Adding the <code>sparkle-demo</code> will display all these demo examples used on this page."},extension:function(b,c){var d=a(this);b=a.Sparkle;d=d.findAndSelf(c.selector);if(d.hasClass(c.hasClass))return true;
d.addClass(c.hasClass);var e=b.getExtensions();for(var f in e){var g=b.getExtension(f);if(g){var h=g.config.demo||"",i=g.config.demoText||"";if(h||i){g=a('<div class="sparkle-demo-section"><h3>'+f+"<h3></div>");i&&g.append('<div class="sparkle-demo-text">'+i+"</div>");if(h){i=h.replace(/</g,"&lt;").replace(/>/g,"&gt;");g.append('<h4>Example Code:</h4><code class="code language-html sparkle-demo-code">'+i+'</code><h4>Example Result:</h4><div class="sparkle-demo-result">'+h+"</div>")}d.append(g).sparkle()}}}return true}}})}})(jQuery);
(function(a){if(a.Bespin)console.warn("$.Bespin has already been defined...");else a.Bespin=a.BalClass.create({"default":{content:null,bespin:{settings:{tabstop:4}},toolbar:{fullscreen:true}},rich:{bespin:{syntax:"html"}},html:{bespin:{syntax:"html"}},plain:{toolbar:false}},{fn:function(b,c){var d=a.Bespin,e=d.getConfigWithDefault(b,c),f=this;a(window).bind("onBespinLoad",function(){d.useBespin(f,e)});window.onBespinLoad=function(){a(window).trigger("onBespinLoad")};return this},useBespin:function(b,
c){var d=a.Bespin,e=a(b),f,g;if(e.is("textarea")){g=e.attr("id")+"-bespin";f=a('<div id="'+g+'"/>').html(e.val()).css({height:e.css("height"),width:e.css("width")});f.insertAfter(e);e.hide()}else{f=e;g=f.attr("id")}bespin.useBespin(g,c.bespin).then(function(h){d.postBespin(g,h,c)},function(h){throw Error("Bespin Launch Failed: "+h);});return this},postBespin:function(b,c,d){b=a("#"+b);var e=b.siblings("textarea"),f=c.editor;b.css("overflow","hidden");b.wrap('<div class="bespin-wrap" />');var g=b.parent();
e.length&&e.parents("form:first").submit(function(){e.val(f.value)});if(d.content||d.content==="")f.value=d.content;if(d.toolbar){$toolbar=a('<div class="bespin-toolbar" />');$toolbar.insertBefore(b);if(d.toolbar.fullscreen){$fullscreen=a('<span class="bespin-toolbar-fullscreen">Fullscreen</span>');$fullscreen.appendTo($toolbar);$fullscreen.click(function(){g.hasClass("bespin-fullscreen")?a("body").add(g).removeClass("bespin-fullscreen"):a("body").add(g).addClass("bespin-fullscreen");c.dimensionsChanged()})}}return this},
built:function(){var b=this;a.fn.Bespin=function(c,d){return b.fn.apply(this,[c,d])};return true}})})(jQuery);
(function(a){if(a.timepicker)console.warn("$.timepicker has already been defined...");else a.timepicker=a.BalClass.create({"default":{timeConvention:24},"12hr":{timeConvention:12},"24hr":{timeConvention:24}},{fn:function(b,c){a.timepicker.getConfigWithDefault(b,c);return a(this).each(function(){var d=a(this);d.hide();if(d.hasClass("sparkle-time-has"))return d;d.addClass("sparkle-time").addClass("sparkle-time-has");for(var e=a('<select class="sparkle-time-hours" />'),f=12,g=1;g<=f;++g)e.append('<option value="'+
g+'">'+g.padLeft("0",2)+"</option>");var h=a('<select class="sparkle-time-minutes" />');for(f=0;f<=55;f+=5)h.append('<option value="'+f+'">'+f.padLeft("0",2)+"</option>");var i=a('<select class="sparkle-time-meridian" />');i.append("<option>am</option>");i.append("<option>pm</option>");g=d.val();var k=new Date;f="12";var l="0",j="am";if(g){k.setTimestr(g);f=k.getUTCHours();l=k.getUTCMinutes();if(f>12){f-=12;j="pm"}}i.insertAfter(d);h.insertAfter(d);e.insertAfter(d);if(f>12&&j=="pm")f-=12;e.val(f);
h.val(l.roundTo(5));i.val(j);f=function(){var m=parseInt(e.val(),10),n=h.val();if(i.val()=="pm")m+=12;if(m>=24)m=0;m=m.padLeft(0,2)+":"+n.padLeft(0,2)+":00";d.val(m).trigger("change")};e.add(h).add(i).change(f);d.parent("form:first").submit(f);return d})},built:function(){var b=this;a.fn.timepicker=function(c,d){return b.fn.apply(this,[c,d])};return true}})})(jQuery);
(function(a){if(a.Tinymce)console.warn("$.Tinymce has already been defined...");else a.Tinymce=a.BalClass.create({"default":{script_url:"/scripts/tiny_mce/tiny_mce.js",theme:"advanced",plugins:"autoresize,safari,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template",theme_advanced_buttons1:"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect,|,code,",
theme_advanced_buttons2:"cut,copy,paste,pastetext,pasteword,|,undo,redo,|,link,unlink,image,|,preview,|,forecolor,backcolor,|,bullist,numlist,|,outdent,indent,blockquote,|,fullscreen",theme_advanced_buttons3:"tablecontrols,|,hr,removeformat,visualaid,|,sub,sup",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",theme_advanced_statusbar_location:"bottom",theme_advanced_path:false,theme_advanced_resizing:false,width:"100%",template_replace_values:{}},rich:{},simple:{theme_advanced_buttons2:"",
theme_advanced_buttons3:""}},{fn:function(b,c){var d=a.Tinymce.getConfigWithDefault(b,c);return a(this).tinymce(d)},built:function(){var b=this;a.fn.Tinymce=function(c,d){return b.fn.apply(this,[c,d])};return true}})})(jQuery);
(function(a){if(a.Help)console.warn("$.Help has already been defined...");else a.Help=a.BalClass.create({"default":{wrap:'<span class="sparkle-help-wrap"/>',icon:'<span class="sparkle-help-icon"/>',text:'<span class="sparkle-help-text"/>',parentClass:"",title:""}},{fn:function(b){var c=a.Help;if(typeof b==="string")b={title:b};b=c.getConfigWithDefault("default",b);c=a(this);var d=a(b.wrap),e=a(b.icon),f=a(b.text);c.parent().addClass(b.parentClass);var g=c.contents();c.append(d.append(f).append(e));
g.appendTo(f);c.attr("title",b.title);return c},built:function(){var b=this;a.fn.help=function(c,d){return b.fn.apply(this,[c,d])};return true}})})(jQuery);
